(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{727:function(e,t,n){"use strict";n.r(t),n.d(t,"init",(function(){return Xt}));n(90),n(91),n(37),n(12),n(30),n(9),n(41),n(188);var r=n(0),o=n.n(r);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p(e);if(t){var o=p(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(s,e);var t,n,r,a=c(s);function s(){return i(this,s),a.apply(this,arguments)}return t=s,(n=[{key:"render",value:function(){return o.a.createElement("span",null,o.a.createElement("p",null,"Sorry, we had trouble retrieving our list of submission destinations. If you give us a minute, retry, and still find this error, please notify support at"," ",o.a.createElement("a",{href:"mailto:support@overleaf.com?subject=Unable to submit"},"support@overleaf.com")))}}])&&l(t.prototype,n),r&&l(t,r),s}(r.Component),m=n(1),y=n.n(m),h=(n(13),n(4)),d=n.n(h),b=(n(16),n(29),n(7),n(63),n(71),n(720)),v=n.n(b);n(8),n(28);function E(e){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function S(e,t){return(S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function x(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_(e);if(t){var o=_(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return j(this,n)}}function j(e,t){return!t||"object"!==E(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var R=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&S(e,t)}(i,e);var t,n,r,a=x(i);function i(){return g(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this,t=this.props,n=t.name,r=t.id,a=t.category,i=t.displayCategory,l=t.switchTo;return o.a.createElement("div",{className:"col-sm-6 table-content"},i&&o.a.createElement("div",{className:"table-content-category"},a.replace("_"," ")),o.a.createElement("div",{className:"table-content-name"},n),o.a.createElement("div",{className:"table-content-icon"},o.a.createElement("button",{"data-event":"publish_entry_select","data-category":"Publish","data-action":"choose","data-label":this.props.id,style:{border:0,padding:0,backgroundColor:"transparent"},onClick:function(){return e.props.onSwitch(l,r)}},o.a.createElement("img",{src:this.props.publish_menu_icon,alt:n}))),o.a.createElement("div",{className:"table-content-text"},o.a.createElement("div",{className:"table-content-slogan",dangerouslySetInnerHTML:{__html:this.props.publish_menu_html}})),o.a.createElement("div",{className:"table-content-link"},o.a.createElement("button",{className:"".concat(this.props.linkClass," btn btn-primary btn-wrapping"),"data-event":"publish_entry_select","data-category":"Publish","data-action":"choose","data-label":this.props.id,onClick:function(){return e.props.onSwitch(l,r)},dangerouslySetInnerHTML:{__html:this.props.publish_menu_link_html}})))}}])&&w(t.prototype,n),r&&w(t,r),i}(r.Component);function O(e){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function P(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function T(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function k(e,t){return(k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function N(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=C(e);if(t){var o=C(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return I(this,n)}}function I(e,t){return!t||"object"!==O(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function C(e){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}R.propTypes={id:y.a.number,name:y.a.string,category:y.a.string,publish_menu_icon:y.a.string,publish_menu_html:y.a.string,publish_menu_link_html:y.a.string,linkClass:y.a.string,switchTo:y.a.string,onSwitch:y.a.func.isRequired,displayCategory:y.a.bool};var D=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k(e,t)}(i,e);var t,n,r,a=N(i);function i(){return P(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this.props,t=e.right,n=e.left,r=e.onSwitch,a=e.displayCategory;return o.a.createElement("div",null,this.props.left&&o.a.createElement(R,L(n,r,a)),this.props.right&&o.a.createElement(R,L(t,r,a)))}}])&&T(t.prototype,n),r&&T(t,r),i}(r.Component);function L(e,t,n){var r;return r=e.partner?"exportGuide":"guide",d.a.assign({},e,{switchTo:r,linkClass:void 0,onSwitch:t,displayCategory:n})}function q(e){return(q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function U(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function F(e,t){return(F=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function V(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=G(e);if(t){var o=G(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return z(this,n)}}function z(e,t){return!t||"object"!==q(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function G(e){return(G=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}D.propTypes={left:y.a.object,right:y.a.object,onSwitch:y.a.func.isRequired,displayCategory:y.a.bool};var M=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&F(e,t)}(i,e);var t,n,r,a=V(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=a.call(this,e)).props.entries.length>2?t.state={shownCount:4}:t.state={shownCount:2},t}return t=i,(n=[{key:"showMore",value:function(){this.setState({shownCount:this.state.shownCount+4})}},{key:"render",value:function(){for(var e=this,t=[],n=0;n<this.state.shownCount&&!(this.props.entries.length<n+1);n+=2)t.push(o.a.createElement(D,{left:this.props.entries[n],right:this.props.entries[n+1],onSwitch:this.props.onSwitch,displayCategory:this.props.displayCategory}));return o.a.createElement("div",{className:"overbox overbox-small"},t.map((function(e,t){return o.a.createElement("div",{key:"outer-div"+t},t>0&&o.a.createElement("hr",null),o.a.createElement("div",{className:"row"},e))})),this.state.shownCount<this.props.entries.length&&o.a.createElement("span",null,o.a.createElement("br",null),o.a.createElement("button",{className:"button-as-link",onClick:function(){return e.showMore()}},"Show more")))}}])&&U(t.prototype,n),r&&U(t,r),i}(r.Component);function B(e){return(B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function A(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function H(e,t){return(H=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function W(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Z(e);if(t){var o=Z(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return J(this,n)}}function J(e,t){return!t||"object"!==B(t)&&"function"!=typeof t?X(e):t}function X(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Z(e){return(Z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}M.propTypes={entries:y.a.array,onSwitch:y.a.func.isRequired,displayCategory:y.a.bool};var Y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&H(e,t)}(i,e);var t,n,r,a=W(i);function i(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),t=a.call(this,e);var n=d.a.flattenDeep(d.a.map(e.entries,(function(e,t){return"featured"===t||"search"===t?[]:e.entries}))),r=d.a.map(e.entries,(function(e,t){if("featured"!==t&&"search"!==t)return e.title})).filter((function(e){return e}));return t.categoryListing=d.a.initial(r).join(", ")+" or "+d.a.last(r),t.state={results:[]},t.fuse=new v.a(n,{keys:["name","brand_name","publish_menu_html","publish_guide_html"],threshold:.4}),t.handleInput=t.handleInput.bind(X(t)),t}return t=i,(n=[{key:"handleInput",value:function(e){var t,n=e.target.value.trim();t=""===n?[]:this.fuse.search(n),this.setState({results:t})}},{key:"handleSubmit",value:function(e){e.preventDefault()}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("div",null,o.a.createElement("form",{className:"search",id:"search",onSubmit:this.handleSubmit},o.a.createElement("div",{id:"search-input-container"},o.a.createElement("label",{className:"sr-only",htmlFor:"search"},"Search"),o.a.createElement("input",{type:"text",id:"search",name:"search-input",className:"form-control search-input",placeholder:this.categoryListing,onChange:this.handleInput})))),o.a.createElement("div",{id:"search-results"},o.a.createElement("div",null,0===this.state.results.length?"":o.a.createElement(M,{entries:this.state.results,onSwitch:this.props.onSwitch,displayCategory:!0}))))}}])&&A(t.prototype,n),r&&A(t,r),i}(r.Component);Y.propTypes={entries:y.a.object.isRequired,onSwitch:y.a.func.isRequired};var K=function(e){var t=e.entries,n=e.onSwitch;return o.a.createElement("div",null,d.a.map(t,(function(e,r){return o.a.createElement("div",{key:"category-"+r},o.a.createElement("span",{className:"affix-target affix-content-title","data-affix-target":r},e.title),o.a.createElement("div",{className:"affix-subcontent"},function(e,t,n,r){return"search"===t?o.a.createElement(Y,{entries:n,key:"journal-search-"+t,onSwitch:r}):o.a.createElement(M,{entries:e.entries,key:"publish-menu-"+t,onSwitch:r})}(e,r,t,n)))})))};K.propTypes={entries:y.a.object.isRequired,onSwitch:y.a.func.isRequired};var Q=K;function ee(e){return(ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function te(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ne(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function re(e,t){return(re=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function oe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ie(e);if(t){var o=ie(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ae(this,n)}}function ae(e,t){return!t||"object"!==ee(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ie(e){return(ie=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var le=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&re(e,t)}(i,e);var t,n,r,a=oe(i);function i(){return te(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this.props.entries;return o.a.createElement("span",null,o.a.createElement("div",{id:"publish-table",className:"modal-body-content row content-as-table"},o.a.createElement("div",{className:"col-md-12"},o.a.createElement(Q,{entries:e,onSwitch:this.props.onSwitch}))))}}])&&ne(t.prototype,n),r&&ne(t,r),i}(r.Component);le.propTypes={entries:y.a.object.isRequired,onSwitch:y.a.func.isRequired};n(6),n(24),n(17);var ue=function(e){var t=e.returnText,n=e.onReturn;return n?o.a.createElement("button",{className:"modal-return button-as-link",onClick:function(){return n(null,null)},style:{paddingBottom:"15px"}},o.a.createElement("i",{style:{paddingRight:"5px",color:"inherit",fontSize:"inherit"},className:"fa fa-fw fa-arrow-left"}),t):null};ue.propTypes={returnText:y.a.string,onReturn:y.a.func};var ce=ue;n(15),n(42),n(52),n(44);function se(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function pe(e,t){var n;return d.a.forEach(e,(function(e){n||(n=d.a.find(e.entries,(function(e){return e.id===t})))})),n}function fe(e,t,n){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return me({url:e,method:"POST",headers:{"Content-Type":"application/json","X-CSRF-Token":window.csrfToken},body:JSON.stringify(t)})}("/project/".concat(t,"/export/").concat(e.id),n).then((function(e){return function(e,t){return function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e3;return new Promise((function(o,a){!function i(){me(e).then((function(e){n(e)?a(e):t(e)?o(e):setTimeout((function(){r<1e4&&(r+=1e3),i()}),r)})).catch(a)}()}))}({url:"/project/".concat(t,"/export/").concat(e)},(function(e){return"succeeded"===e.export_json.status_summary}),(function(e){return"failed"===e.export_json.status_summary}))}(e.export_v1_id,t).then((function(t){var n=[t.export_json.v2_user_first_name,t.export_json.v2_user_last_name].filter(Boolean).join(" ");return{exportId:e.export_v1_id,message:e.message,token:t.export_json.token,submissionId:t.export_json.partner_submission_id,authorEmail:t.export_json.v2_user_email,authorName:n,title:t.export_json.title}})).catch((function(e){throw new Error(e.export_json&&e.export_json.status_detail||null)}))}))}function me(e){var t=e.url,n=se(e,["url"]);return fetch(t,n).then((function(e){if(!e.ok)throw new Error(e.statusText);return e})).then((function(e){return e.json()}))}function ye(e){return(ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function he(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function de(e,t){return(de=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function be(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ge(e);if(t){var o=ge(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ve(this,n)}}function ve(e,t){return!t||"object"!==ye(t)&&"function"!=typeof t?Ee(e):t}function Ee(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ge(e){return(ge=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var we=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&de(e,t)}(i,e);var t,n,r,a=be(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=a.call(this,e)).state={exportState:"uninitiated",errorDetails:null},t.initiateGuideExport=t.initiateGuideExport.bind(Ee(t)),t}return t=i,(n=[{key:"initiateGuideExport",value:function(e,t,n){var r=this;this.setState({exportState:"initiated"}),fe(e,t).then((function(e){var o=e.exportId;r.props.downloadFile("/project/".concat(t,"/export/").concat(o,"/").concat("zip"===n?"zip":"pdf")),r.setState({exportState:"uninitiated"})})).catch((function(e){var t=e.errorDetails;r.setState({exportState:"error",errorDetails:t})}))}},{key:"render",value:function(){var e=this.props,t=e.entry,n=e.returnText,r=e.onReturn,a=e.projectId;return o.a.createElement("div",{className:"publish-guide modal-body-content row content-as-table",id:"publish-guide-"+t.id,key:t.id},o.a.createElement("div",{className:"col-sm-12"},r&&n&&o.a.createElement(ce,{onReturn:r,returnText:n}),o.a.createElement(Se,{guideHtml:t.publish_guide_html,renderDownload:o.a.createElement(xe,{entry:t,projectId:a,exportState:this.state.exportState,initiateGuideExport:this.initiateGuideExport,errorDetails:this.state.errorDetails})}),t.publish_link_destination&&o.a.createElement("div",null,o.a.createElement(xe,{entry:t,projectId:a,exportState:this.state.exportState,initiateGuideExport:this.initiateGuideExport,errorDetails:this.state.errorDetails}),o.a.createElement(je,{entry:t}))))}}])&&he(t.prototype,n),r&&he(t,r),i}(r.Component);function Se(e){var t=e.guideHtml,n=e.renderDownload;if(-1!==t.indexOf("DOWNLOAD")){var r=t.split("DOWNLOAD");return o.a.createElement("div",null,o.a.createElement("div",{dangerouslySetInnerHTML:{__html:r[0]}}),n,o.a.createElement("div",{style:{marginLeft:"140px",paddingLeft:"15px"},dangerouslySetInnerHTML:{__html:r[1]}}))}return o.a.createElement("div",{dangerouslySetInnerHTML:{__html:t}})}function xe(e){var t=e.entry,n=e.projectId,r=e.exportState,a=e.initiateGuideExport,i=e.errorDetails;return o.a.createElement("div",{style:{marginLeft:"140px",paddingLeft:"15px"}},o.a.createElement("p",null,o.a.createElement("strong",null,"Step 1: Download files")),"uninitiated"===r&&o.a.createElement("span",null,o.a.createElement("p",null,o.a.createElement("button",{className:"btn btn-primary",onClick:function(){return a(t,n,"zip")}},"Download project ZIP with submission files (e.g. .bbl)")),o.a.createElement("p",null,o.a.createElement("button",{className:"btn btn-primary",onClick:function(){return a(t,n,"pdf")}},"Download PDF file of your article"))),"initiated"===r&&o.a.createElement("p",{style:{fontSize:20,margin:"20px 0px 20px"}},o.a.createElement("i",{className:"fa fa-refresh fa-spin fa-fw"}),o.a.createElement("span",null,"   Compiling project, please wait...")),"error"===r&&o.a.createElement("p",null,"Project failed to compile",o.a.createElement("br",null),"Error message: ",i))}function je(e){var t=e.entry;return o.a.createElement("div",{style:{marginLeft:"140px",paddingLeft:"15px"}},o.a.createElement("p",null,o.a.createElement("strong",null,"Step 2: Submit your manuscript")),o.a.createElement("p",null,o.a.createElement("a",{href:t.publish_link_destination,target:"_blank",rel:"noopener",className:"btn btn-primary","data-event":"link_submit","data-category":"Publish","data-action":"submit","data-label":t.id},"Submit to ",t.name)))}function _e(e){return(_e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Re(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Oe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Pe(e,t){return(Pe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Te(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ne(e);if(t){var o=Ne(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ke(this,n)}}function ke(e,t){return!t||"object"!==_e(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ne(e){return(Ne=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}we.defaultProps={downloadFile:function(e){window.location.pathname=e}},we.propTypes={entry:y.a.object.isRequired,returnText:y.a.string,onReturn:y.a.func,projectId:y.a.string.isRequired,downloadFile:y.a.func.isRequired},Se.propTypes={guideHtml:y.a.string.isRequired,renderDownload:y.a.node},xe.propTypes={entry:y.a.object.isRequired,projectId:y.a.string.isRequired,exportState:y.a.string.isRequired,initiateGuideExport:y.a.func.isRequired,errorDetails:y.a.string},je.propTypes={entry:y.a.object.isRequired};var Ie=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Pe(e,t)}(i,e);var t,n,r,a=Te(i);function i(){return Re(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this.props.entries,t=d.a.omit(e,"brand_data");return o.a.createElement("span",null,o.a.createElement("div",{id:"publish-table",className:"modal-body-content row content-as-table"},o.a.createElement("div",{className:"col-md-12"},o.a.createElement(we,{entry:e.brand_data,projectId:this.props.initParams.projectId}),o.a.createElement("br",null),o.a.createElement(Q,{entries:t,onSwitch:this.props.onSwitch}))))}}])&&Oe(t.prototype,n),r&&Oe(t,r),i}(r.Component);function Ce(e){return(Ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function De(){return(De=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Le(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ue(e,t){return(Ue=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Fe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ze(e);if(t){var o=ze(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ve(this,n)}}function Ve(e,t){return!t||"object"!==Ce(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ze(e){return(ze=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Ie.propTypes={entries:y.a.object.isRequired,onSwitch:y.a.func.isRequired,initParams:y.a.object.isRequired};var Ge=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ue(e,t)}(i,e);var t,n,r,a=Fe(i);function i(){return Le(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this.props,t=e.entry,n=e.onReturn,r=e.returnText,a=e.initParams,i=e.onSwitch;return o.a.createElement("div",{className:"publish-guide modal-body-content row content-as-table",key:t.id},o.a.createElement("div",{className:"col-sm-12"},o.a.createElement(ce,{onReturn:n,returnText:r})),o.a.createElement("div",{className:"col-sm-2",style:{verticalAlign:"top"}},t.publish_menu_icon&&o.a.createElement("img",{src:t.publish_menu_icon,alt:t.name,style:{width:"106px",float:"right"}})),o.a.createElement("div",{className:"col-sm-10",style:{paddingLeft:"15px"}},o.a.createElement("p",{dangerouslySetInnerHTML:{__html:t.publish_menu_html}}),o.a.createElement(Me,De({},a,{entry:t,onSwitch:i}))))}}])&&qe(t.prototype,n),r&&qe(t,r),i}(r.Component);function Me(e){var t=e.entry,n=e.onSwitch,r=(e.pdfUrl,e.logs);return o.a.createElement("div",null,o.a.createElement("p",null,"To begin a direct export from Overleaf please click the button below"),o.a.createElement("p",null,o.a.createElement("button",{className:"btn btn-primary",style:{display:"inline-block"},onClick:function(){return n("export",t.id)}},"Continue")),o.a.createElement("p",null,"Please note that you'll have chance to confirm your submission on the next page before your files are sent"),r.warnings.length>0&&o.a.createElement("p",null,o.a.createElement("strong",null," Warning: ")," LaTeX warnings on this project may affect submissions. Please check the logs before continuing"))}Ge.propTypes={entry:y.a.object.isRequired,returnText:y.a.string,onReturn:y.a.func,projectId:y.a.string.isRequired,onSwitch:y.a.func.isRequired,initParams:y.a.object.isRequired},Me.propTypes={entry:y.a.object.isRequired,onSwitch:y.a.func.isRequired,logs:y.a.object,pdfUrl:y.a.string};var Be=function(e){var t,n=e.entry,r=e.projectId,a=e.exportId;return t=n.publish_link_destination?He(n.publish_link_destination):"the journal's website",o.a.createElement("span",null,o.a.createElement("p",null,"This project has already been submitted to this journal, and this journal does not allow resubmission from within Overleaf. Please download your project files below and log in at ",t," to resubmit from there."),o.a.createElement("p",null,o.a.createElement("button",{className:"btn btn-primary",onClick:function(){return Ae(r,a,"zip")}},"Download project ZIP with submission files (e.g. .bbl)")),o.a.createElement("p",null,o.a.createElement("button",{className:"btn btn-primary",onClick:function(){return Ae(r,a,"pdf")}},"Download PDF file of your article")))};function Ae(e,t,n){window.location.pathname="/project/".concat(e,"/export/").concat(t,"/").concat("zip"===n?"zip":"pdf")}var He=function(e){return o.a.createElement("a",{href:e},"the journal's website")};Be.propTypes={entry:y.a.object.isRequired,projectId:y.a.string.isRequired,exportId:y.a.string.isRequired};var We=Be;function Je(e){return(Je="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Xe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ze(e,t){return(Ze=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ye(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Qe(e);if(t){var o=Qe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return $e(this,n)}}function $e(e,t){return!t||"object"!==Je(t)&&"function"!=typeof t?Ke(e):t}function Ke(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Qe(e){return(Qe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var et=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ze(e,t)}(i,e);var t,n,r,a=Ye(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=a.call(this,e)).state={exportState:"uninitiated",submissionValid:!0,errorDetails:null},t.runExport=t.runExport.bind(Ke(t)),t}return t=i,(n=[{key:"runExport",value:function(e){var t=this;e.preventDefault();var n=this.props,r=n.entry,o=n.projectId;this.firstName.value&&this.lastName.value?(this.setState({submissionValid:!0,exportState:"initiated"}),fe(r,o,{firstName:this.firstName.value,lastName:this.lastName.value}).then((function(e){var n=e.exportId;"RESUBMISSION"===e.message?t.setState({exportState:"resubmission",exportId:n}):t.setState({exportState:"complete"})})).catch((function(e){t.setState({exportState:"error",errorDetails:e.message})}))):this.setState({submissionValid:!1})}},{key:"render",value:function(){var e=this,t=this.props,n=t.entry,r=t.onReturn,a=t.returnText,i=t.firstName,l=t.lastName,u=t.projectId;return o.a.createElement("div",{className:"publish-guide modal-body-content row content-as-table",key:n.id},o.a.createElement("div",{className:"col-sm-12"},o.a.createElement(ce,{onReturn:r,returnText:a}),o.a.createElement("h3",{style:{marginTop:"5px"}},"Submit to: ",o.a.createElement("br",null),o.a.createElement("strong",null," ",n.name," ")),"uninitiated"===this.state.exportState&&o.a.createElement("span",null,o.a.createElement("p",null,"Thanks for using Overleaf to submit your article."),o.a.createElement("p",null,"When you submit using the button below, your manuscript and supporting files will be sent to the journal automatically, and you will receive a confirmation email from Overleaf. The journal's editorial team will then send you a follow-up email with instructions for how to complete your submission."),o.a.createElement("p",null,"To send your article, please confirm your first and last name:"),o.a.createElement("form",{onSubmit:this.runExport},o.a.createElement("p",null,o.a.createElement("input",{type:"text",className:"form-control",defaultValue:i,style:{width:"30%",display:"inline-block"},maxLength:"255",placeholder:"First Name",ref:function(t){return e.firstName=t}}),o.a.createElement("input",{type:"text",className:"form-control",defaultValue:l,style:{width:"30%",display:"inline-block"},maxLength:"255",placeholder:"Last Name",ref:function(t){return e.lastName=t}})),o.a.createElement("br",null),o.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Submit to ",n.name)),!this.state.submissionValid&&o.a.createElement("p",{style:{color:"red"}},"Please add valid first and last names before continuing")),"initiated"===this.state.exportState&&o.a.createElement("span",null,o.a.createElement("div",{style:{fontSize:20,margin:"20px 0px 20px"}},o.a.createElement("i",{className:"fa fa-refresh fa-spin fa-fw"}),o.a.createElement("span",null,"   Exporting files, please wait..."))),"complete"===this.state.exportState&&o.a.createElement("span",null,o.a.createElement("p",null,"Export Successful!"),o.a.createElement("p",null,"Thanks for submitting to ",n.name,". Your manuscript and supporting files have been sent directly to the journal's editorial team, and they will send a follow-up email with instructions for how to complete your submission."),o.a.createElement("p",null,"Please check your email for confirmation of your submission.")),"error"===this.state.exportState&&o.a.createElement("span",null,o.a.createElement("p",null,"Export Failed"),o.a.createElement("p",null,"Error message: ",this.state.errorDetails)),"resubmission"===this.state.exportState&&o.a.createElement(We,{entry:n,projectId:u,exportId:this.state.exportId})))}}])&&Xe(t.prototype,n),r&&Xe(t,r),i}(r.Component);function tt(e){return(tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function nt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function rt(e,t){return(rt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ot(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=lt(e);if(t){var o=lt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return at(this,n)}}function at(e,t){return!t||"object"!==tt(t)&&"function"!=typeof t?it(e):t}function it(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lt(e){return(lt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}et.propTypes={entry:y.a.object.isRequired,returnText:y.a.string,onReturn:y.a.func,projectId:y.a.string.isRequired,firstName:y.a.string,lastName:y.a.string};var ut=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&rt(e,t)}(i,e);var t,n,r,a=ot(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=a.call(this,e)).state={exportState:"uninitiated",submissionValid:!0,exportId:null,errorDetails:null},t.runExport=t.runExport.bind(it(t)),t}return t=i,(n=[{key:"runExport",value:function(e){var t=this;e.preventDefault();var n=this.props,r=n.entry,o=n.projectId;this.firstName.value&&this.lastName.value?(this.setState({submissionValid:!0,exportState:"initiated"}),fe(r,o,{firstName:this.firstName.value,lastName:this.lastName.value}).then((function(e){var n=e.exportId;"RESUBMISSION"===e.message?t.setState({exportState:"resubmission",exportId:n}):t.setState({exportState:"complete"})})).catch((function(e){t.setState({exportState:"error",errorDetails:e.message})}))):this.setState({submissionValid:!1})}},{key:"render",value:function(){var e=this,t=this.props,n=t.entry,r=t.onReturn,a=t.returnText,i=t.hasFolders,l=t.projectId,u=t.firstName,c=t.lastName;return i?o.a.createElement("div",{className:"publish-guide modal-body-content row content-as-table",key:n.id},o.a.createElement("div",{className:"col-sm-12"},o.a.createElement(ce,{onReturn:r,returnText:a}),o.a.createElement("h3",{style:{marginTop:"5px"}},"Submit to: ",o.a.createElement("br",null),o.a.createElement("strong",null," ",n.name," ")),o.a.createElement("p",null,o.a.createElement("strong",null," Files must be at top folder level ")),o.a.createElement("p",null,"This project has one or more files in subfolders, rather than at the top folder level. Although Overleaf allows you to create and nest folders within your project,",n.name," requires all files to be at the top level of your project."),o.a.createElement("p",null,"Please move each of the above files to the top level of the project, check that your project renders properly, and then retry the submission. We apologize for the inconvenience."))):o.a.createElement("div",{className:"publish-guide modal-body-content row content-as-table",key:n.id},o.a.createElement("div",{className:"col-sm-12"},o.a.createElement(ce,{onReturn:r,returnText:a}),o.a.createElement("h3",{style:{marginTop:"5px"}},"Submit to: ",o.a.createElement("br",null),o.a.createElement("strong",null," ",n.name," ")),"uninitiated"===this.state.exportState&&o.a.createElement("span",null,o.a.createElement("p",null,"Thanks for using Overleaf to submit your article."),o.a.createElement("p",null,"When you submit using the button below, your manuscript and supporting files will be sent to the journal automatically, and you will receive a confirmation email from Overleaf. The journal's editorial team will then send you a follow-up email with instructions for how to complete your submission."),o.a.createElement("p",null,"To send your article, please confirm your first and last name:"),o.a.createElement("form",{onSubmit:this.runExport},o.a.createElement("p",null,o.a.createElement("input",{type:"text",className:"form-control",defaultValue:u,style:{width:"30%",display:"inline-block"},maxLength:"255",placeholder:"First Name",ref:function(t){return e.firstName=t}}),o.a.createElement("input",{type:"text",className:"form-control",defaultValue:c,style:{width:"30%",display:"inline-block"},maxLength:"255",placeholder:"Last Name",ref:function(t){return e.lastName=t}})),o.a.createElement("br",null),o.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Submit to ",n.name)),!this.state.submissionValid&&o.a.createElement("p",{style:{color:"red"}},"Please add valid first and last names before continuing")),"initiated"===this.state.exportState&&o.a.createElement("span",null,o.a.createElement("div",{style:{fontSize:20,margin:"20px 0px 20px"}},o.a.createElement("i",{className:"fa fa-refresh fa-spin fa-fw"}),o.a.createElement("span",null,"   Exporting files, please wait..."))),"complete"===this.state.exportState&&o.a.createElement("span",null,o.a.createElement("p",null,"Export Successful!"),o.a.createElement("p",null,"Thanks for submitting to ",n.name,". Your manuscript and supporting files have been sent directly to the journal's editorial team, and they will send a follow-up email with instructions for how to complete your submission."),o.a.createElement("p",null,"Please check your email for confirmation of your submission.")),"error"===this.state.exportState&&o.a.createElement("span",null,o.a.createElement("p",null,"Export Failed"),o.a.createElement("p",null,"Error message: ",this.state.errorDetails)),"resubmission"===this.state.exportState&&o.a.createElement(We,{entry:n,projectId:l,exportId:this.state.exportId})))}}])&&nt(t.prototype,n),r&&nt(t,r),i}(r.Component);function ct(e){return(ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function st(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pt(e,t){return(pt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ft(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=yt(e);if(t){var o=yt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return mt(this,n)}}function mt(e,t){return!t||"object"!==ct(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function yt(e){return(yt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}ut.propTypes={entry:y.a.object.isRequired,returnText:y.a.string,onReturn:y.a.func,projectId:y.a.string.isRequired,hasFolders:y.a.bool,firstName:y.a.string,lastName:y.a.string};var ht=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&pt(e,t)}(i,e);var t,n,r,a=ft(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=a.call(this,e)).state={exportState:"uninitiated",submissionValid:!0,errorDetails:null},t}return t=i,(n=[{key:"runExport",value:function(e){var t=this;if(e.preventDefault(),this.title.value&&this.author.value&&this.description.value&&this.license.value){var n=this.props,r=n.entry,o=n.projectId;this.setState({submissionValid:!0,exportState:"initiated"}),fe(r,o,{title:this.title.value,author:this.author.value,description:this.description.value,license:this.license.value,showSource:this.showSource.checked}).then((function(){t.setState({exportState:"complete"})})).catch((function(e){t.setState({exportState:"error",errorDetails:e.message})}))}else this.setState({submissionValid:!1})}},{key:"renderUninitiated",value:function(){var e=this,t=this.props,n=t.entry,r=t.author,a=t.title,i=t.description,l=t.license,u=!1!==this.props.showSource;return o.a.createElement("form",{onSubmit:function(t){return e.runExport(t)}},o.a.createElement("p",null,"The Overleaf Gallery is the easiest way to publish your work from Overleaf and make it searchable and shareable. Just fill out the details below."),o.a.createElement("div",{className:"form-control-box"},o.a.createElement("label",{htmlFor:"gallery-export-title"},"Title"),o.a.createElement("input",{id:"gallery-export-title",type:"text",className:"form-control",defaultValue:a,maxLength:"255",placeholder:"Title",ref:function(t){return e.title=t}})),o.a.createElement("div",{className:"form-control-box"},o.a.createElement("label",{htmlFor:"gallery-export-author"},"Author(s)"),o.a.createElement("input",{id:"gallery-export-author",type:"text",className:"form-control",defaultValue:r,maxLength:"255",placeholder:"Author(s)",ref:function(t){return e.author=t}})),o.a.createElement("div",{className:"form-control-box"},o.a.createElement("label",{htmlFor:"gallery-export-description"},"Description"),o.a.createElement("textarea",{id:"gallery-export-description",rows:"4",className:"form-control",defaultValue:i,maxLength:"2048",placeholder:"Description",ref:function(t){return e.description=t}})),o.a.createElement("div",{className:"form-control-box"},o.a.createElement("label",{htmlFor:"gallery-export-license"},"License"),o.a.createElement("select",{id:"gallery-export-license",ref:function(t){return e.license=t},defaultValue:l},o.a.createElement("option",{value:"cc_by_4.0"},"Creative Commons CC BY 4.0"),o.a.createElement("option",{value:"lppl_1.3c"},"LaTeX Project Public License 1.3c"),o.a.createElement("option",{value:"other"},"Other (as stated in the work)")),o.a.createElement("a",{className:"help",href:"/learn/how-to/How_are_the_contents_of_the_Overleaf_gallery_licensed%3F"},"(?)")),o.a.createElement("div",{className:"form-control-box no-label"},o.a.createElement("input",{type:"checkbox",id:"gallery-export-show-source",defaultChecked:u,ref:function(t){return e.showSource=t}}),o.a.createElement("label",{htmlFor:"gallery-export-show-source",className:"checkbox-label"},"Let people use this project as a template.")),o.a.createElement("div",{className:"form-control-box no-label"},o.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Submit to ",n.name),!this.state.submissionValid&&o.a.createElement("p",{style:{color:"red"}},"Please provide all of title, author(s) and description before continuing")))}},{key:"renderInitiated",value:function(){return o.a.createElement("span",null,o.a.createElement("div",{style:{fontSize:20,margin:"20px 0px 20px"}},o.a.createElement("i",{className:"fa fa-refresh fa-spin fa-fw"}),o.a.createElement("span",null,"   Exporting files, please wait...")))}},{key:"renderComplete",value:function(){return o.a.createElement("span",null,o.a.createElement("p",null,"Export Successful!"),o.a.createElement("p",null,"Thanks for submitting to our gallery! We approve most submissions within a few hours. We've sent you an e-mail to confirm your submission, and we'll send you another one once it's approved."))}},{key:"renderError",value:function(){return o.a.createElement("span",null,o.a.createElement("p",null,"Export Failed"),o.a.createElement("p",null,"Error message: ",this.state.errorDetails))}},{key:"render",value:function(){var e,t=this.props,n=t.entry,r=t.onReturn,a=t.returnText;return e="uninitiated"===this.state.exportState?this.renderUninitiated():"initiated"===this.state.exportState?this.renderInitiated():"complete"===this.state.exportState?this.renderComplete():this.renderError(),o.a.createElement("div",{className:"publish-guide modal-body-content row content-as-table",key:n.id},o.a.createElement("div",{className:"col-sm-12"},o.a.createElement(ce,{onReturn:r,returnText:a}),o.a.createElement("h3",{style:{marginTop:"5px"}},"Submit to:",o.a.createElement("strong",null," ",n.name," ")),e))}}])&&st(t.prototype,n),r&&st(t,r),i}(r.Component);function dt(e){return(dt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function bt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function vt(e,t){return(vt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Et(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=wt(e);if(t){var o=wt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return gt(this,n)}}function gt(e,t){return!t||"object"!==dt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function wt(e){return(wt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}ht.propTypes={entry:y.a.object.isRequired,returnText:y.a.string,onReturn:y.a.func,projectId:y.a.string.isRequired,author:y.a.string,title:y.a.string,description:y.a.string,license:y.a.string,showSource:y.a.bool};var St=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&vt(e,t)}(i,e);var t,n,r,a=Et(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=a.call(this,e)).state={exportState:"uninitiated",errorDetails:null},t}return t=i,(n=[{key:"runExport",value:function(e,t){var n=this;this.setState({exportState:"initiated"}),fe(e,t).then((function(e){var t=e.exportId,r=e.token,o=e.submissionId;n.setState({exportState:"complete",exportId:"".concat(t).concat(r),submissionId:o})})).catch((function(e){n.setState({exportState:"error",errorDetails:e.message})}))}},{key:"componentDidUpdate",value:function(){"complete"===this.state.exportState&&this.submitButton.click()}},{key:"renderUninitiated",value:function(e,t){var n=this;return o.a.createElement("span",null,o.a.createElement("p",null,"Thanks for using Overleaf to submit your article."),o.a.createElement("p",null,"Use the button below to send a PDF of your paper and a ZIP file of the LaTeX source files to the journal’s submission site."),o.a.createElement("p",null,"Log In or Create an Account on the next screen."),o.a.createElement("p",null,"Once you have logged in,"),o.a.createElement("ul",null,o.a.createElement("li",null,"If you have just started, you will be on the first step of the submission process and your files will be automatically attached."),o.a.createElement("li",null,"If you have edited an existing project, you will be on the step where the Overleaf files are replaced by your latest version.")),o.a.createElement("br",null),o.a.createElement("button",{className:"btn btn-primary",onClick:function(){return n.runExport(e,t)}},"Submit to ",e.name))}},{key:"renderInitiated",value:function(){return o.a.createElement("span",null,o.a.createElement("div",{style:{fontSize:20,margin:"20px 0px 20px"}},o.a.createElement("i",{className:"fa fa-refresh fa-spin fa-fw"}),o.a.createElement("span",null,"   Exporting files, please wait...")))}},{key:"renderComplete",value:function(){var e=this;return o.a.createElement("form",{action:this.props.entry.export_url,method:"post",id:"export_form","data-testid":"export-complete"},o.a.createElement("input",{id:"export_id",name:"export_id",type:"hidden",value:this.state.exportId}),o.a.createElement("input",{id:"submission_id",name:"submission_id",type:"hidden",value:this.state.submissionId}),o.a.createElement("input",{id:"EXT_ACTION",name:"EXT_ACTION",type:"hidden",value:"OVERLEAF_SUBMISSION"}),o.a.createElement("button",{style:{display:"none"},ref:function(t){e.submitButton=t}},"Submit"))}},{key:"renderError",value:function(){return o.a.createElement("span",null,o.a.createElement("p",null,"Export Failed"),o.a.createElement("p",null,"Error message: ",this.state.errorDetails))}},{key:"render",value:function(){var e,t=this.props,n=t.entry,r=t.onReturn,a=t.projectId,i=t.returnText;return e="uninitiated"===this.state.exportState?this.renderUninitiated(n,a):"initiated"===this.state.exportState?this.renderInitiated(n,a):"complete"===this.state.exportState?this.renderComplete(n):this.renderError(),o.a.createElement("div",{className:"publish-guide modal-body-content row content-as-table",key:n.id},o.a.createElement("div",{className:"col-sm-12"},o.a.createElement(ce,{onReturn:r,returnText:i}),o.a.createElement("h3",{style:{marginTop:"5px"}},"Submit to: ",o.a.createElement("br",null),o.a.createElement("strong",null," ",n.name," ")),e))}}])&&bt(t.prototype,n),r&&bt(t,r),i}(r.Component);function xt(e){return(xt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function jt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _t(e,t){return(_t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Rt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Pt(e);if(t){var o=Pt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ot(this,n)}}function Ot(e,t){return!t||"object"!==xt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Pt(e){return(Pt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}St.propTypes={entry:y.a.object.isRequired,returnText:y.a.string,onReturn:y.a.func,projectId:y.a.string.isRequired};var Tt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_t(e,t)}(i,e);var t,n,r,a=Rt(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=a.call(this,e)).state={exportState:"uninitiated",errorDetails:null},t}return t=i,(n=[{key:"runExport",value:function(e,t){var n=this;this.setState({exportState:"initiated"});var r=window.ExposedSettings.siteUrl;fe(e,t).then((function(e){var t=e.authorEmail,o=e.authorName,a=e.title,i=e.exportId,l=e.token;n.setState({exportState:"complete",authorEmail:t,authorName:o,title:a,articleZipURL:"".concat(r,"/exports/").concat(i).concat(l,".zip"),pdfURL:"".concat(r,"/exports/").concat(i).concat(l,".pdf"),revisionURL:"".concat(r,"/exports/").concat(i).concat(l,"/revise"),submissionURL:"",publicationURL:"",rejectionURL:"",newVersionURL:"",articleId:""})})).catch((function(e){n.setState({exportState:"error",errorDetails:e.message})}))}},{key:"componentDidUpdate",value:function(){"complete"===this.state.exportState&&this.submitButton.click()}},{key:"renderUninitiated",value:function(e,t){var n=this;return o.a.createElement("span",null,o.a.createElement("p",null,"Thanks for using Overleaf to write your article."),o.a.createElement("p",null,"When you are ready to submit, then click",o.a.createElement("strong",null," Submit to ",e.name)," below. (Your files will be sent to ",e.name," by Overleaf)"),o.a.createElement("button",{"data-testid":"submit-button",className:"btn btn-primary",onClick:function(){return n.runExport(e,t)}},"Submit to ",e.name))}},{key:"renderInitiated",value:function(){return o.a.createElement("span",null,o.a.createElement("div",{style:{fontSize:20,margin:"20px 0px 20px"}},o.a.createElement("i",{className:"fa fa-refresh fa-spin fa-fw"}),o.a.createElement("span",null,"   Exporting files, please wait...")))}},{key:"renderComplete",value:function(){var e=this;return o.a.createElement("form",{action:this.props.entry.export_url,method:"GET","data-testid":"export-complete"},o.a.createElement("input",{id:"authorEmail",name:"authorEmail",type:"hidden",value:this.state.authorEmail}),o.a.createElement("input",{id:"authorName",name:"authorName",type:"hidden",value:this.state.authorName}),o.a.createElement("input",{id:"title",name:"title",type:"hidden",value:this.state.title}),o.a.createElement("input",{id:"articleZipURL",name:"articleZipURL",type:"hidden",value:this.state.articleZipURL}),o.a.createElement("input",{id:"pdfURL",name:"pdfURL",type:"hidden",value:this.state.pdfURL}),o.a.createElement("input",{id:"revisionURL",name:"revisionURL",type:"hidden",value:this.state.revisionURL}),o.a.createElement("input",{id:"submissionURL",name:"submissionURL",type:"hidden",value:""}),o.a.createElement("input",{id:"publicationURL",name:"publicationURL",type:"hidden",value:""}),o.a.createElement("input",{id:"rejectionURL",name:"rejectionURL",type:"hidden",value:""}),o.a.createElement("input",{id:"newVersionURL",name:"newVersionURL",type:"hidden",value:""}),o.a.createElement("input",{id:"articleId",name:"articleId",type:"hidden",value:""}),o.a.createElement("button",{style:{display:"none"},ref:function(t){e.submitButton=t}},"Submit"))}},{key:"renderError",value:function(){return o.a.createElement("span",null,o.a.createElement("p",null,"Export Failed"),o.a.createElement("p",null,"Error message: ",this.state.errorDetails))}},{key:"render",value:function(){var e,t=this.props,n=t.entry,r=t.onReturn,a=t.projectId,i=t.returnText;return e="uninitiated"===this.state.exportState?this.renderUninitiated(n,a):"initiated"===this.state.exportState?this.renderInitiated(n,a):"complete"===this.state.exportState?this.renderComplete():this.renderError(),o.a.createElement("div",{className:"publish-guide modal-body-content row content-as-table",key:n.id},o.a.createElement("div",{className:"col-sm-12"},o.a.createElement(ce,{onReturn:r,returnText:i}),o.a.createElement("h3",{style:{marginTop:"5px"}},"Submit to: ",o.a.createElement("br",null),o.a.createElement("strong",null," ",n.name," ")),e))}}])&&jt(t.prototype,n),r&&jt(t,r),i}(r.Component);function kt(e){return(kt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Nt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function It(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ct(e,t){return(Ct=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Dt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=qt(e);if(t){var o=qt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Lt(this,n)}}function Lt(e,t){return!t||"object"!==kt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function qt(e){return(qt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Tt.propTypes={entry:y.a.object.isRequired,returnText:y.a.string,onReturn:y.a.func,projectId:y.a.string.isRequired};var Ut=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ct(e,t)}(i,e);var t,n,r,a=Dt(i);function i(){return Nt(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e,t,n,r=this.props,a=r.guideId,i=r.initialEntry,l=r.entries,u=r.onSwitch,c=r.shown,s=r.initParams;return i&&a===i.id?(e=i,l.journal&&l.journal.entries.length>1&&l.brand_data.active&&(n="More "+l.brand_data.name+" Journals",t=u)):(e=pe(l,a),n="Back to Journals and Services",t=u),"guide"===c?o.a.createElement(we,{onReturn:t,entry:e,returnText:n,projectId:s.projectId}):"export"===c?"gallery"===e.partner?o.a.createElement(ht,{onReturn:t,entry:e,returnText:n,projectId:s.projectId,firstName:s.firstName,lastName:s.lastName,title:s.title,author:s.author,description:s.description,license:s.license,showSource:s.showSource,hasFolders:s.hasFolders}):"scholar_one"===e.partner?o.a.createElement(St,{onReturn:t,entry:e,returnText:n,projectId:s.projectId}):"f1000"===e.partner||"wellcome_trust"===e.partner?o.a.createElement(Tt,{onReturn:t,entry:e,partnerName:e.name,partnerContactURL:e.home_url+"/contact",returnText:n,projectId:s.projectId}):"ejp"===e.partner?o.a.createElement(et,{onReturn:t,entry:e,returnText:n,projectId:s.projectId,firstName:s.firstName,lastName:s.lastName}):o.a.createElement(ut,{onReturn:t,entry:e,returnText:n,projectId:s.projectId,firstName:s.firstName,lastName:s.lastName,hasFolders:s.hasFolders}):"exportGuide"===c?o.a.createElement(Ge,{onReturn:t,entry:e,returnText:n,projectId:s.projectId,onSwitch:u,initParams:s}):null}}])&&It(t.prototype,n),r&&It(t,r),i}(r.Component);function Ft(e){return(Ft="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Vt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function zt(e,t){return(zt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Gt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=At(e);if(t){var o=At(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Mt(this,n)}}function Mt(e,t){return!t||"object"!==Ft(t)&&"function"!=typeof t?Bt(e):t}function Bt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function At(e){return(At=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Ut.propTypes={entries:y.a.object.isRequired,initialEntry:y.a.object,guideId:y.a.number.isRequired,shown:y.a.string.isRequired,onSwitch:y.a.func.isRequired,initParams:y.a.object.isRequired};var Ht=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&zt(e,t)}(i,e);var t,n,r,a=Gt(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=a.call(this,e)).state={shown:e.initialShown,baseReturn:e.initialShown},t.handleSwitch=t.handleSwitch.bind(Bt(t)),"guide"!==e.initialShown&&"export"!==e.initialShown||(t.state.initialEntry=pe(e.entries,e.brandVariationId),t.state.guideId=t.state.initialEntry.id,t.state.baseReturn="branded"),t}return t=i,(n=[{key:"handleSwitch",value:function(e,t){e?this.setState({shown:e,guideId:t}):this.setState({shown:this.state.baseReturn,guideId:null})}},{key:"render",value:function(){var e=this.props,t=e.entries,n=e.initParams;return n.pdfUrl?n.logs.errors.length>0?o.a.createElement("p",null,o.a.createElement("strong",null,"This project has LaTeX errors, which can cause problems with your submission. Please check the logs, fix the errors and try submitting again.")):n.rootDocOverridden?o.a.createElement("p",null,o.a.createElement("strong",null,"The current document in the editor has a documentclass command but is not the project's main document. To ensure you are submitting the project as intended, please switch to the project's main document and recompile before continuing.")):n.uncompiled?o.a.createElement("p",null,o.a.createElement("strong",null,"This project has been changed since it was last compiled. Please recompile the project and submit again.")):"basic"===this.state.shown?o.a.createElement(le,{entries:this.props.entries,onSwitch:this.handleSwitch}):"guide"===this.state.shown||"exportGuide"===this.state.shown||"export"===this.state.shown?o.a.createElement(Ut,{onSwitch:this.handleSwitch,entries:t,guideId:this.state.guideId,initParams:n,shown:this.state.shown,initialEntry:this.state.initialEntry}):"branded"===this.state.shown?o.a.createElement(Ie,{onSwitch:this.handleSwitch,entries:t,initialEntry:this.state.initialEntry,initParams:n}):void 0:o.a.createElement("p",null,o.a.createElement("strong",null,"No current PDF. Please make sure your project compiles before submitting."))}}])&&Vt(t.prototype,n),r&&Vt(t,r),i}(r.Component);Ht.propTypes={entries:y.a.object.isRequired,initialShown:y.a.string.isRequired,initParams:y.a.object.isRequired,brandVariationId:y.a.number};var Wt=n(34),Jt=n.n(Wt);function Xt(e,t,n){var r=function(e){return new Promise((function(t,n){$.ajax({url:e,type:"GET"}).done(t).fail(n)}))},a=function(e,t,n,a,i){var l={initialShown:i,initParams:n,brandVariationId:a},u="/latest_template/".concat(n.projectId);Promise.all([r(u),r(e)]).then((function(e){var n,r,a;(n=e[0]).title&&(l.initParams.title=n.title),l.initParams.description=n.description,l.initParams.author=n.author,l.initParams.license=n.license,r=e[1],a=JSON.parse(r),l.entries=a,Jt.a.render(o.a.createElement(Ht,l),t)})).catch((function(e){Jt.a.render(o.a.createElement(f,{}),t)}))};n.isBranded?n.brandedMenu?function(e,t,n){var r="/journals/".concat(n);a(r,e,t,null,"branded")}(e,t,n.brandId):n.partner?function(e,t,n,r){var o="/journals/".concat(n);a(o,e,t,r,"export")}(e,t,n.brandId,n.brandVariationId):function(e,t,n,r){var o="/journals/".concat(n);a(o,e,t,r,"guide")}(e,t,n.brandId,n.brandVariationId):function(e,t){a("/journals",e,t,null,"basic")}(e,t)}}}]);